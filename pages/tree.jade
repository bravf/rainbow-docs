extends ./_layout

block title
  | Tree - Rainbow

block content
  h1| Tree 树形控件

  div(class="anchor")
    h2(id="概述")

  r-card
    r-tabs(v-model="common.tab")
      r-tab-pane(name="1", label="示例")
        r-tree(
          :data="data",
          :multiple="true",
          :show-checkbox="true",
          @select-change="selectChange",
          @check-change="checkChange",
          ref="myTree"
        )

      r-tab-pane(name="2", label="代码")
        pre
          code(class="html")
          textarea(v-pre).
            <r-tree :data="data" :multiple="true" :show-checkbox="true" 
            @select-change="selectChange" @check-change="checkChange" ref="myTree"></r-tree>

            <script>
            export default {
              data () {
                return {
                  data: [{
                    title: 'parent 1',
                    children: [{
                        title: 'parent 1-0',
                        children: [{
                            title: 'leaf你好哈哈好的你好哈哈哈哈哈',
                            __checked: true,
                            __expand: true,
                            __selected: true,
                        }, {
                            title: 'leaf',
                            __checked: true
                        }]
                    }, {
                        title: 'parent 1-1',
                        children: [{
                            title: '<span style="color: red">leaf</span>',
                        }]
                    }]
                  }]
                }
              },
              methods: {
                selectChange (nodes) {
                  console.table(nodes)
                },
                checkChange (nodes){
                  console.table(nodes)
                }
              }
            }
            </script>
          
  .anchor
    h2| Api
  
  .anchor
    h3| Tree props
  
  div(class="r-table r-table-border api")
    table
      thead
        tr
          th
            div| 属性
          th
            div| 说明
          th
            div| 类型
          th
            div| 默认值
      tbody
        //- 
        tr
          td
            div| data
          td
            div| 可嵌套的节点属性的数组，生成 tree 的数据
          td
            div| Array
          td
            div| []
        
        //- 
        tr
          td
            div| multiple
          td
            div| 是否支持多选
          td
            div| Boolean
          td
            div| false
        
        //- 
        tr
          td
            div| show-checkbox
          td
            div| 是否显示多选框
          td
            div| Boolean
          td
            div| false
  
  .anchor
    h3| Tree events
  
  div(class="r-table r-table-border api")
    table
      thead
        tr
          th
            div| 事件名
          th
            div| 说明
          th
            div| 返回值

      tbody
        //- 
        tr
          td
            div| on-select-change
          td
            div| 点击树节点时触发
          td 
            div| 当前已选中的节点数组
        
        //- 
        tr
          td
            div| on-check-change
          td
            div| 点击复选框时触发
          td 
            div| 当前已勾选的节点数组
  
  .anchor
    h3| Tree methods
  
  div(class="r-table r-table-border api")
    table
      thead
        tr
          th
            div| 方法名
          th
            div| 说明
          th
            div| 参数

      tbody
        //- 
        tr
          td
            div| getCheckeds
          td
            div| 获取被勾选的节点
          td 
            div| field | 无，当传入filed，则返回field字段的数组
        
        //- 
        tr
          td
            div| getSelecteds
          td
            div| 获取被选中的节点
          td 
            div| field | 无，当传入filed，则返回field字段的数组
  
  .anchor
    h3| children
  
  div(class="r-table r-table-border api")
    table
      thead
        tr
          th
            div| 属性
          th
            div| 说明
          th
            div| 类型
          th
            div| 默认值

      tbody
        //- 
        tr
          td
            div| title
          td
            div| 标题
          td 
            div| String
          td
            div| -
        
        //- 
        tr
          td
            div| __checked
          td
            div| 是否勾选
          td 
            div| Boolean
          td
            div| false
        
        //- 
        tr
          td
            div| __expand
          td
            div| 是否展开
          td 
            div| Boolean
          td
            div| false
        
        //- 
        tr
          td
            div| __selected
          td
            div| 是否选中
          td 
            div| Boolean
          td
            div| false
        
        //- 
        tr
          td
            div| children
          td
            div| 子节点属性数组
          td 
            div| Array
          td
            div| -
        

block script
  script.
    new Vue({
      el: '#app',
      watch: {
        'common.componentValue' () {
          location.href = this.common.componentValue + '.html'
        }
      },
      data () {
        return {
          common: {
            componentValue: '',
            activeMenu: '4-8',
            tab: '',
            tab2: ''
          },
          data: [{
            title: 'parent 1',
            children: [{
                title: 'parent 1-0',
                children: [{
                    title: 'leaf你好哈哈好的你好哈哈哈哈哈',
                    __checked: true,
                    __expand: true,
                    __selected: true,
                }, {
                    title: 'leaf',
                    __checked: true
                }]
            }, {
                title: 'parent 1-1',
                children: [{
                    title: '<span style="color: red">leaf</span>',
                }]
            }]
          }]
        }
      },
      methods: {
        selectChange (nodes) {
          console.table(nodes)
        },
        checkChange (nodes){
          console.table(nodes)
        }
      }
    })